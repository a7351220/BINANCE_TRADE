"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./src/stores/marketStore.ts":
/*!***********************************!*\
  !*** ./src/stores/marketStore.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMarketStore: function() { return /* binding */ useMarketStore; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! zustand */ \"./node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var _utils_calculations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/calculations */ \"./src/utils/calculations.ts\");\n/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/constants */ \"./src/utils/constants.ts\");\n\n\n\nconst findAnomalies = (data, anomalyRecords)=>{\n    return anomalyRecords.map((record)=>data.findIndex((d)=>d.timestamp === record.dataTimestamp)).filter((index)=>index !== -1);\n};\nconst cleanOldRecords = (records)=>{\n    const tenMinutesAgo = Date.now() - _utils_constants__WEBPACK_IMPORTED_MODULE_1__.CONSTANTS.TEN_MINUTES;\n    return records.filter((record)=>record.timestamp > tenMinutesAgo).sort((a, b)=>b.timestamp - a.timestamp).slice(0, _utils_constants__WEBPACK_IMPORTED_MODULE_1__.CONSTANTS.MAX_ANOMALY_RECORDS);\n};\nconst checkAnomaly = (value, median, positiveMad1, negativeMad1)=>{\n    const deviation = value - median;\n    const mad = deviation >= 0 ? positiveMad1 : negativeMad1;\n    const zScore = mad !== 0 ? Math.abs(deviation) / mad : 0;\n    return {\n        isAnomaly: zScore > _utils_constants__WEBPACK_IMPORTED_MODULE_1__.CONSTANTS.ANOMALY_THRESHOLD,\n        zScore,\n        direction: deviation >= 0 ? \"positive\" : \"negative\"\n    };\n};\nconst useMarketStore = (0,zustand__WEBPACK_IMPORTED_MODULE_2__.create)((set, get)=>({\n        data: [],\n        anomalyRecords: [],\n        anomalies: [],\n        stats: {\n            mean: 0,\n            stdDev: 0,\n            movingAverages: []\n        },\n        addData: (newData)=>{\n            set((state)=>{\n                const updatedData = [\n                    ...state.data.slice(-_utils_constants__WEBPACK_IMPORTED_MODULE_1__.CONSTANTS.MAX_DATA_POINTS + 1),\n                    newData\n                ];\n                const volumes = updatedData.map((d)=>d.netVolume);\n                const { mean: median, stdDev, movingAverages } = (0,_utils_calculations__WEBPACK_IMPORTED_MODULE_0__.calculateStats)(volumes);\n                const { isAnomaly, zScore, direction } = checkAnomaly(newData.netVolume, median, positiveMad, negativeMad);\n                let updatedAnomalyRecords = [\n                    ...state.anomalyRecords\n                ];\n                if (isAnomaly) {\n                    updatedAnomalyRecords.push({\n                        timestamp: Date.now(),\n                        value: newData.netVolume,\n                        zScore,\n                        dataTimestamp: newData.timestamp,\n                        direction\n                    });\n                }\n                updatedAnomalyRecords = cleanOldRecords(updatedAnomalyRecords);\n                const anomalies = findAnomalies(updatedData, updatedAnomalyRecords);\n                return {\n                    data: updatedData,\n                    anomalyRecords: updatedAnomalyRecords,\n                    anomalies,\n                    stats: {\n                        mean: median,\n                        stdDev: (positiveMad + negativeMad) / 2,\n                        movingAverages: (0,_utils_calculations__WEBPACK_IMPORTED_MODULE_0__.calculateMovingAverage)(volumes, _utils_constants__WEBPACK_IMPORTED_MODULE_1__.CONSTANTS.WINDOW_SIZE)\n                    }\n                };\n            });\n        }\n    }));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cy9tYXJrZXRTdG9yZS50cz84OTdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgY2FsY3VsYXRlU3RhdHMsIGNhbGN1bGF0ZU1vdmluZ0F2ZXJhZ2UgfSBmcm9tICcuLi91dGlscy9jYWxjdWxhdGlvbnMnO1xuaW1wb3J0IHsgQ09OU1RBTlRTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB0eXBlIHsgTWFya2V0RGF0YSwgQW5vbWFseVJlY29yZCwgTWFya2V0U3RhdGUgfSBmcm9tICcuLi90eXBlcy9tYXJrZXQnO1xuY29uc3QgZmluZEFub21hbGllcyA9IChkYXRhOiBNYXJrZXREYXRhW10sIGFub21hbHlSZWNvcmRzOiBBbm9tYWx5UmVjb3JkW10pOiBudW1iZXJbXSA9PiB7XG4gIHJldHVybiBhbm9tYWx5UmVjb3Jkc1xuICAgIC5tYXAocmVjb3JkID0+IGRhdGEuZmluZEluZGV4KGQgPT4gZC50aW1lc3RhbXAgPT09IHJlY29yZC5kYXRhVGltZXN0YW1wKSlcbiAgICAuZmlsdGVyKGluZGV4ID0+IGluZGV4ICE9PSAtMSk7XG59O1xuXG5jb25zdCBjbGVhbk9sZFJlY29yZHMgPSAocmVjb3JkczogQW5vbWFseVJlY29yZFtdKTogQW5vbWFseVJlY29yZFtdID0+IHtcbiAgY29uc3QgdGVuTWludXRlc0FnbyA9IERhdGUubm93KCkgLSBDT05TVEFOVFMuVEVOX01JTlVURVM7XG4gIHJldHVybiByZWNvcmRzXG4gICAgLmZpbHRlcihyZWNvcmQgPT4gcmVjb3JkLnRpbWVzdGFtcCA+IHRlbk1pbnV0ZXNBZ28pXG4gICAgLnNvcnQoKGEsIGIpID0+IGIudGltZXN0YW1wIC0gYS50aW1lc3RhbXApXG4gICAgLnNsaWNlKDAsIENPTlNUQU5UUy5NQVhfQU5PTUFMWV9SRUNPUkRTKTtcbn07XG5cbmNvbnN0IGNoZWNrQW5vbWFseSA9IChcbiAgdmFsdWU6IG51bWJlciwgXG4gIG1lZGlhbjogbnVtYmVyLCBcbiAgcG9zaXRpdmVNYWQ6IG51bWJlciwgXG4gIG5lZ2F0aXZlTWFkOiBudW1iZXJcbik6IHsgaXNBbm9tYWx5OiBib29sZWFuOyB6U2NvcmU6IG51bWJlcjsgZGlyZWN0aW9uOiAncG9zaXRpdmUnIHwgJ25lZ2F0aXZlJyB9ID0+IHtcbiAgY29uc3QgZGV2aWF0aW9uID0gdmFsdWUgLSBtZWRpYW47XG4gIGNvbnN0IG1hZCA9IGRldmlhdGlvbiA+PSAwID8gcG9zaXRpdmVNYWQgOiBuZWdhdGl2ZU1hZDtcbiAgY29uc3QgelNjb3JlID0gbWFkICE9PSAwID8gTWF0aC5hYnMoZGV2aWF0aW9uKSAvIG1hZCA6IDA7XG4gIFxuICByZXR1cm4ge1xuICAgIGlzQW5vbWFseTogelNjb3JlID4gQ09OU1RBTlRTLkFOT01BTFlfVEhSRVNIT0xELFxuICAgIHpTY29yZSxcbiAgICBkaXJlY3Rpb246IGRldmlhdGlvbiA+PSAwID8gJ3Bvc2l0aXZlJyA6ICduZWdhdGl2ZSdcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VNYXJrZXRTdG9yZSA9IGNyZWF0ZTxNYXJrZXRTdGF0ZT4oKHNldCwgZ2V0KSA9PiAoe1xuICBkYXRhOiBbXSxcbiAgYW5vbWFseVJlY29yZHM6IFtdLFxuICBhbm9tYWxpZXM6IFtdLFxuICBzdGF0czoge1xuICAgIG1lYW46IDAsXG4gICAgc3RkRGV2OiAwLFxuICAgIG1vdmluZ0F2ZXJhZ2VzOiBbXVxuICB9LFxuICBcbiAgYWRkRGF0YTogKG5ld0RhdGE6IE1hcmtldERhdGEpID0+IHtcbiAgICBzZXQoc3RhdGUgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlZERhdGEgPSBbLi4uc3RhdGUuZGF0YS5zbGljZSgtQ09OU1RBTlRTLk1BWF9EQVRBX1BPSU5UUyArIDEpLCBuZXdEYXRhXTtcbiAgICAgIGNvbnN0IHZvbHVtZXMgPSB1cGRhdGVkRGF0YS5tYXAoZCA9PiBkLm5ldFZvbHVtZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHsgbWVhbjogbWVkaWFuLCBzdGREZXYsIG1vdmluZ0F2ZXJhZ2VzIH0gPSBjYWxjdWxhdGVTdGF0cyh2b2x1bWVzKTtcbiAgICAgIGNvbnN0IHsgaXNBbm9tYWx5LCB6U2NvcmUsIGRpcmVjdGlvbiB9ID0gY2hlY2tBbm9tYWx5KFxuICAgICAgICBuZXdEYXRhLm5ldFZvbHVtZSxcbiAgICAgICAgbWVkaWFuLFxuICAgICAgICBwb3NpdGl2ZU1hZCxcbiAgICAgICAgbmVnYXRpdmVNYWRcbiAgICAgICk7XG5cbiAgICAgIGxldCB1cGRhdGVkQW5vbWFseVJlY29yZHMgPSBbLi4uc3RhdGUuYW5vbWFseVJlY29yZHNdO1xuICAgICAgXG4gICAgICBpZiAoaXNBbm9tYWx5KSB7XG4gICAgICAgIHVwZGF0ZWRBbm9tYWx5UmVjb3Jkcy5wdXNoKHtcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdmFsdWU6IG5ld0RhdGEubmV0Vm9sdW1lLFxuICAgICAgICAgIHpTY29yZSxcbiAgICAgICAgICBkYXRhVGltZXN0YW1wOiBuZXdEYXRhLnRpbWVzdGFtcCxcbiAgICAgICAgICBkaXJlY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZWRBbm9tYWx5UmVjb3JkcyA9IGNsZWFuT2xkUmVjb3Jkcyh1cGRhdGVkQW5vbWFseVJlY29yZHMpO1xuICAgICAgY29uc3QgYW5vbWFsaWVzID0gZmluZEFub21hbGllcyh1cGRhdGVkRGF0YSwgdXBkYXRlZEFub21hbHlSZWNvcmRzKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogdXBkYXRlZERhdGEsXG4gICAgICAgIGFub21hbHlSZWNvcmRzOiB1cGRhdGVkQW5vbWFseVJlY29yZHMsXG4gICAgICAgIGFub21hbGllcyxcbiAgICAgICAgc3RhdHM6IHtcbiAgICAgICAgICBtZWFuOiBtZWRpYW4sXG4gICAgICAgICAgc3RkRGV2OiAocG9zaXRpdmVNYWQgKyBuZWdhdGl2ZU1hZCkgLyAyLFxuICAgICAgICAgIG1vdmluZ0F2ZXJhZ2VzOiBjYWxjdWxhdGVNb3ZpbmdBdmVyYWdlKHZvbHVtZXMsIENPTlNUQU5UUy5XSU5ET1dfU0laRSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufSkpOyAiXSwibmFtZXMiOlsiY3JlYXRlIiwiY2FsY3VsYXRlU3RhdHMiLCJjYWxjdWxhdGVNb3ZpbmdBdmVyYWdlIiwiQ09OU1RBTlRTIiwiZmluZEFub21hbGllcyIsImRhdGEiLCJhbm9tYWx5UmVjb3JkcyIsIm1hcCIsInJlY29yZCIsImZpbmRJbmRleCIsImQiLCJ0aW1lc3RhbXAiLCJkYXRhVGltZXN0YW1wIiwiZmlsdGVyIiwiaW5kZXgiLCJjbGVhbk9sZFJlY29yZHMiLCJyZWNvcmRzIiwidGVuTWludXRlc0FnbyIsIkRhdGUiLCJub3ciLCJURU5fTUlOVVRFUyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwiTUFYX0FOT01BTFlfUkVDT1JEUyIsImNoZWNrQW5vbWFseSIsInZhbHVlIiwibWVkaWFuIiwicG9zaXRpdmVNYWQiLCJuZWdhdGl2ZU1hZCIsImRldmlhdGlvbiIsIm1hZCIsInpTY29yZSIsIk1hdGgiLCJhYnMiLCJpc0Fub21hbHkiLCJBTk9NQUxZX1RIUkVTSE9MRCIsImRpcmVjdGlvbiIsInVzZU1hcmtldFN0b3JlIiwic2V0IiwiZ2V0IiwiYW5vbWFsaWVzIiwic3RhdHMiLCJtZWFuIiwic3RkRGV2IiwibW92aW5nQXZlcmFnZXMiLCJhZGREYXRhIiwibmV3RGF0YSIsInN0YXRlIiwidXBkYXRlZERhdGEiLCJNQVhfREFUQV9QT0lOVFMiLCJ2b2x1bWVzIiwibmV0Vm9sdW1lIiwidXBkYXRlZEFub21hbHlSZWNvcmRzIiwicHVzaCIsIldJTkRPV19TSVpFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/stores/marketStore.ts\n"));

/***/ })

});