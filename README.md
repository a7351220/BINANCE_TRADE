# Crypto Market Depth Monitor

這個工具通過分析幣安訂單簿數據，提供即時的市場深度和交易壓力指標。

## 項目結構

## 數據來源

- **Binance WebSocket API**: `<symbol>usdt@depth`
- 使用 Top 10% 的訂單簿深度來計算指標
- 實時更新，無延遲

## 核心指標說明

### 1. VWAP (Volume-Weighted Average Price)
- **定義**: 成交量加權平均價格
- **計算**: Σ(價格 × 數量) / Σ(數量)
- **意義**: 
  - 比單純的市場價格更能反映真實交易價值
  - 考慮了訂單量的權重
  - 分別計算買方(Bid)和賣方(Ask)的VWAP

### 2. Spread (價差)
- **計算**: ((賣方VWAP - 買方VWAP) / 買方VWAP) × 100%
- **警戒值**: > 0.1% 顯示黃色警告 ⚠️
- **意義**:
  - 反映市場流動性
  - 價差過大表示流動性不足
  - 正常市場價差應該較小

### 3. Volume Imbalance (量能差異)
- **計算**: ((買方量 - 賣方量) / (買方量 + 賣方量)) × 100%
- **顯示**:
  - 強買壓 (>50%): 🚀 綠色
  - 強賣壓 (<-50%): 📉 紅色
  - 平衡 (-50%~50%): 📊 白色
- **意義**:
  - 反映市場短期走向
  - 量能差異過大可能預示價格變動

## 如何解讀數據

### 示例輸出 

🚀 BTC 2024-03-14 15:30:45 | Spread: 0.050% | Vol Imb: 25.5% | $67245.50 - $67278.80 | B:$2.5M A:$1.8M

### 市場狀態判斷

1. **強勢做多信號**:
   - 🚀 綠色顯示
   - Volume Imbalance > 50%
   - 較小的 Spread
   - 買方量明顯大於賣方量

2. **強勢做空信號**:
   - 📉 紅色顯示
   - Volume Imbalance < -50%
   - 較小的 Spread
   - 賣方量明顯大於買方量

3. **市場異常警告**:
   - ⚠️ 黃色顯示
   - Spread > 0.1%
   - 表示流動性不足，交易需謹慎

4. **正常市場狀態**:
   - 📊 白色顯示
   - 適中的 Volume Imbalance
   - 小的 Spread
   - 買賣量相對平衡

## 數據記錄

所有數據都會被記錄到 CSV 文件中，包含：
- 時間戳
- 交易對
- 買賣方 VWAP
- Spread 百分比
- 買賣方交易量 (USD)

## 注意事項

- 所有金額都以 USD 計價
- 大額數字使用 K(千)/M(百萬)/B(十億) 表示
- 量能差異和價差是即時計算，反映當前市場狀態
- 建議同時觀察多個時間點的數據來判斷趨勢

